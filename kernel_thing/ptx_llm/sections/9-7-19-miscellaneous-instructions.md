### 9.7.19. Miscellaneous Instructions 

The Miscellaneous instructions are:

* `brkpt`
* `nanosleep`
* `pmevent`
* `trap`
* `setmaxnreg`

#### 9.7.19.1. [Miscellaneous Instructions: `brkpt`](#miscellaneous-instructions-brkpt)[](#miscellaneous-instructions-brkpt "Permalink to this headline")

`brkpt`

Breakpoint.

Syntax

```
brkpt;
```

Description

Suspends execution.

PTX ISA Notes

Introduced in PTX ISA version 1.0.

Target ISA Notes

`brkpt` requires `sm_11` or higher.

Examples

```
    brkpt;

@p  brkpt;
```

#### 9.7.19.2. [Miscellaneous Instructions: `nanosleep`](#miscellaneous-instructions-nanosleep)[](#miscellaneous-instructions-nanosleep "Permalink to this headline")

`nanosleep`

Suspend the thread for an approximate delay given in nanoseconds.

Syntax

```
nanosleep.u32 t;
```

Description

Suspends the thread for a sleep duration approximately close to the delay `t`, specified in
nanoseconds. `t` may be a register or an immediate value.

The sleep duration is approximated, but guaranteed to be in the interval `[0, 2*t]`. The maximum
sleep duration is 1 millisecond. The implementation may reduce the sleep duration for individual
threads within a warp such that all sleeping threads in the warp wake up together.

PTX ISA Notes

`nanosleep` introduced in PTX ISA 6.3.

Target ISA Notes

`nanosleep` requires `sm_70` or higher.

Examples

```
.reg .b32 r;

.reg .pred p;



nanosleep.u32 r;

nanosleep.u32 42;

@p nanosleep.u32 r;
```

#### 9.7.19.3. [Miscellaneous Instructions: `pmevent`](#miscellaneous-instructions-pmevent)[](#miscellaneous-instructions-pmevent "Permalink to this headline")

`pmevent`

Trigger one or more Performance Monitor events.

Syntax

```
pmevent       a;    // trigger a single performance monitor event

pmevent.mask  a;    // trigger one or more performance monitor events
```

Description

Triggers one or more of a fixed number of performance monitor events, with event index or mask
specified by immediate operand `a`.

`pmevent` (without modifier `.mask`) triggers a single performance monitor event indexed by
immediate operand `a`, in the range `0..15`.

`pmevent.mask` triggers one or more of the performance monitor events. Each bit in the 16-bit
immediate operand `a` controls an event.

Programmatic performance moniter events may be combined with other hardware events using Boolean
functions to increment one of the four performance counters. The relationship between events and
counters is programmed via API calls from the host.

Notes

Currently, there are sixteen performance monitor events, numbered 0 through 15.

PTX ISA Notes

`pmevent` introduced in PTX ISA version 1.4.

`pmevent.mask` introduced in PTX ISA version 3.0.

Target ISA Notes

pmevent supported on all target architectures.

`pmevent.mask` requires `sm_20` or higher.

Examples

```
    pmevent      1;

@p  pmevent      7;

@q  pmevent.mask 0xff;
```

#### 9.7.19.4. [Miscellaneous Instructions: `trap`](#miscellaneous-instructions-trap)[](#miscellaneous-instructions-trap "Permalink to this headline")

`trap`

Perform trap operation.

Syntax

```
trap;
```

Description

Abort execution and generate an interrupt to the host CPU.

PTX ISA Notes

Introduced in PTX ISA version 1.0.

Target ISA Notes

Supported on all target architectures.

Examples

```
    trap;

@p  trap;
```

#### 9.7.19.5. [Miscellaneous Instructions: `setmaxnreg`](#miscellaneous-instructions-setmaxnreg)[](#miscellaneous-instructions-setmaxnreg "Permalink to this headline")

`setmaxnreg`

Hint to change the number of registers owned by the warp.

Syntax

```
setmaxnreg.action.sync.aligned.u32 imm-reg-count;



.action = { .inc, .dec };
```

Description

`setmaxnreg` provides a hint to the system to update the maximum number of per-thread registers
owned by the executing warp to the value specified by the `imm-reg-count` operand.

Qualifier `.dec` is used to release extra registers such that the absolute per-thread maximum
register count is reduced from its current value to `imm-reg-count`. Qualifier `.inc` is used to
request additional registers such that the absolute per-thread maximum register count is increased
from its current value to `imm-reg-count`.

A pool of available registers is maintained per-CTA. Register adjustments requested by the
`setmaxnreg` instructions are handled by supplying extra registers from this pool to the
requesting warp or by releasing extra registers from the requesting warp to this pool, depending
upon the value of the `.action` qualifier.

The `setmaxnreg.inc` instruction blocks the execution until enough registers are available in the
CTA’s register pool. After the instruction `setmaxnreg.inc` obtains new registers from the CTA
pool, the initial contents of the new registers are undefined. The new registers must be initialized
before they are used.

The same `setmaxnreg` instruction must be executed by all warps in a
[warpgroup](#asynchronous-warpgroup-level-matrix-instructions-warpgroup). After executing a
`setmaxnreg` instruction, all warps in the *warpgroup* must synchronize explicitly before
executing subsequent setmaxnreg instructions. If a `setmaxnreg` instruction is not executed by all
warps in the *warpgroup*, then the behavior is undefined.

Operand `imm-reg-count` is an integer constant. The value of `imm-reg-count` must be in the
range 24 to 256 (both inclusive) and must be a multiple of 8.

Changes to the register file of the warp always happen at the tail-end of the register file.

The `setmaxnreg` instruction requires that the kernel has been launched with a valid value of
maximum number of per-thread registers specified via the appropriate compilation via the appropriate
compile-time option or the appropriate performance tuning directive. Otherwise, the `setmaxnreg`
instruction may have no effect.

When qualifier `.dec` is specified, the maximum number of per-thread registers owned by the warp
prior to the execution of `setmaxnreg` instruction should be greater than or equal to the
`imm-reg-count`. Otherwise, the behaviour is undefined.

When qualifier `.inc` is specified, the maximum number of per-thread registers owned by the warp
prior to the execution of `setmaxnreg` instruction should be less than or equal to the
`imm-reg-count`. Otherwise, the behaviour is undefined.

The mandatory `.sync` qualifier indicates that `setmaxnreg` instruction causes the executing
thread to wait until all threads in the warp execute the same `setmaxnreg` instruction before
resuming execution.

The mandatory `.aligned` qualifier indicates that all threads in the warpgroup must execute the
same `setmaxnreg` instruction. In conditionally executed code, `setmaxnreg` instruction should
only be used if it is known that all threads in warpgroup evaluate the condition identically,
otherwise the behavior is undefined.

PTX ISA Notes

Introduced in PTX ISA version 8.0.

Target ISA Notes

Supported on following architectures:

* `sm_90a`
* `sm_100a`
* `sm_101a` (Renamed to `sm_110a` from PTX ISA version 9.0)
* `sm_120a`
* And is supported on following family-specific architectures from PTX ISA version 8.8:

  + `sm_100f` or higher in the same family
  + `sm_101f` or higher in the same family (Renamed to `sm_110f` from PTX ISA version 9.0)
  + `sm_120f` or higher in the same family
* `sm_110f` or higher in the same family

Examples

```
setmaxnreg.dec.sync.aligned.u32 64;

setmaxnreg.inc.sync.aligned.u32 192;
```