### 9.7.6. Comparison and Selection Instructions 

The comparison select instructions are:

* `set`
* `setp`
* `selp`
* `slct`

As with single-precision floating-point instructions, the `set`, `setp`, and `slct`
instructions support subnormal numbers for `sm_20` and higher targets and flush single-precision
subnormal inputs to sign-preserving zero for `sm_1x` targets. The optional `.ftz` modifier
provides backward compatibility with `sm_1x` targets by flushing subnormal inputs and results to
sign-preserving zero regardless of the target architecture.

#### 9.7.6.1. [Comparison and Selection Instructions: `set`](#comparison-and-selection-instructions-set)[](#comparison-and-selection-instructions-set "Permalink to this headline")

`set`

Compare two numeric values with a relational operator, and optionally combine this result with a
predicate value by applying a Boolean operator.

Syntax

```
set.CmpOp{.ftz}.dtype.stype         d, a, b;

set.CmpOp.BoolOp{.ftz}.dtype.stype  d, a, b, {!}c;



.CmpOp  = { eq, ne, lt, le, gt, ge, lo, ls, hi, hs,

            equ, neu, ltu, leu, gtu, geu, num, nan };

.BoolOp = { and, or, xor };

.dtype  = { .u32, .s32, .f32 };

.stype  = { .b16, .b32, .b64,

            .u16, .u32, .u64,

            .s16, .s32, .s64,

                  .f32, .f64 };
```

Description

Compares two numeric values and optionally combines the result with another predicate value by
applying a Boolean operator. If this result is `True`, `1.0f` is written for floating-point
destination types, and `0xffffffff` is written for integer destination types. Otherwise,
`0x00000000` is written.

Operand `d` has type `.dtype`; operands `a` and `b` have type `.stype`; operand `c` has
type `.pred`.

Semantics

```
t = (a CmpOp b) ? 1 : 0;

if (isFloat(dtype))

    d = BoolOp(t, c) ? 1.0f : 0x00000000;

else

    d = BoolOp(t, c) ? 0xffffffff : 0x00000000;
```

Integer Notes

The signed and unsigned comparison operators are `eq`, `ne`, `lt`, `le`, `gt`, `ge`.

For unsigned values, the comparison operators `lo`, `ls`, `hi`, and `hs` for lower,
lower-or-same, higher, and higher-or-same may be used instead of `lt`, `le`, `gt`, `ge`,
respectively.

The untyped, bit-size comparisons are `eq` and `ne`.

Floating Point Notes

The ordered comparisons are `eq`, `ne`, `lt`, `le`, `gt`, `ge`. If either operand is `NaN`, the result is `False`.

To aid comparison operations in the presence of `NaN` values, unordered versions are included:
`equ`, `neu`, `ltu`, `leu`, `gtu`, `geu`. If both operands are numeric values (not
`NaN`), then these comparisons have the same result as their ordered counterparts. If either
operand is `NaN`, then the result of these comparisons is `True`.

`num` returns `True` if both operands are numeric values (not `NaN`), and `nan` returns
`True` if either operand is `NaN`.

Subnormal numbers:

`sm_20+`
:   By default, subnormal numbers are supported.

    `set.ftz.dtype.f32` flushes subnormal inputs to sign-preserving zero.

`sm_1x`
:   `set.dtype.f64` supports subnormal numbers.

    `set.dtype.f32` flushes subnormal inputs to sign-preserving zero.

Modifier `.ftz` applies only to `.f32` comparisons.

PTX ISA Notes

Introduced in PTX ISA version 1.0.

Target ISA Notes

`set` with `.f64` source type requires `sm_13` or higher.

Examples

```
@p  set.lt.and.f32.s32  d,a,b,r;

    set.eq.u32.u32      d,i,n;
```

#### 9.7.6.2. [Comparison and Selection Instructions: `setp`](#comparison-and-selection-instructions-setp)[](#comparison-and-selection-instructions-setp "Permalink to this headline")

`setp`

Compare two numeric values with a relational operator, and (optionally) combine this result with a
predicate value by applying a Boolean operator.

Syntax

```
setp.CmpOp{.ftz}.type         p[|q], a, b;

setp.CmpOp.BoolOp{.ftz}.type  p[|q], a, b, {!}c;



.CmpOp  = { eq, ne, lt, le, gt, ge, lo, ls, hi, hs,

            equ, neu, ltu, leu, gtu, geu, num, nan };

.BoolOp = { and, or, xor };

.type   = { .b16, .b32, .b64,

            .u16, .u32, .u64,

            .s16, .s32, .s64,

                  .f32, .f64 };
```

Description

Compares two values and combines the result with another predicate value by applying a Boolean
operator. This result is written to the first destination operand. A related value computed using
the complement of the compare result is written to the second destination operand.

Applies to all numeric types. Operands `a` and `b` have type `.type`; operands `p`, `q`,
and `c` have type `.pred`. The sink symbol ‘\_’ may be used in place of any one of the
destination operands.

Semantics

```
t = (a CmpOp b) ? 1 : 0;

p = BoolOp(t, c);

q = BoolOp(!t, c);
```

Integer Notes

The signed and unsigned comparison operators are `eq`, `ne`, `lt`, `le`, `gt`, `ge`.

For unsigned values, the comparison operators `lo`, `ls`, `hi`, and `hs` for lower,
lower-or-same, higher, and higher-or-same may be used instead of `lt`, `le`, `gt`, `ge`,
respectively.

The untyped, bit-size comparisons are `eq` and `ne`.

Floating Point Notes

The ordered comparisons are `eq`, `ne`, `lt`, `le`, `gt`, `ge`. If either operand is `NaN`, the result is `False`.

To aid comparison operations in the presence of `NaN` values, unordered versions are included:
`equ`, `neu`, `ltu`, `leu`, `gtu`, `geu`. If both operands are numeric values (not
`NaN`), then these comparisons have the same result as their ordered counterparts. If either
operand is `NaN`, then the result of these comparisons is `True`.

`num` returns `True` if both operands are numeric values (not `NaN`), and `nan` returns
`True` if either operand is `NaN`.

Subnormal numbers:

`sm_20+`
:   By default, subnormal numbers are supported.

    `setp.ftz.dtype.f32` flushes subnormal inputs to sign-preserving zero.

`sm_1x`
:   `setp.dtype.f64` supports subnormal numbers.

    `setp.dtype.f32` flushes subnormal inputs to sign-preserving zero.

Modifier `.ftz` applies only to `.f32` comparisons.

PTX ISA Notes

Introduced in PTX ISA version 1.0.

Target ISA Notes

`setp` with `.f64` source type requires `sm_13` or higher.

Examples

```
    setp.lt.and.s32  p|q,a,b,r;

@q  setp.eq.u32      p,i,n;
```

#### 9.7.6.3. [Comparison and Selection Instructions: `selp`](#comparison-and-selection-instructions-selp)[](#comparison-and-selection-instructions-selp "Permalink to this headline")

`selp`

Select between source operands, based on the value of the predicate source operand.

Syntax

```
selp.type d, a, b, c;



.type = { .b16, .b32, .b64,

          .u16, .u32, .u64,

          .s16, .s32, .s64,

                .f32, .f64 };
```

Description

Conditional selection. If `c` is `True`, `a` is stored in `d`, `b` otherwise. Operands
`d`, `a`, and `b` must be of the same type. Operand `c` is a predicate.

Semantics

```
d = (c == 1) ? a : b;
```

PTX ISA Notes

Introduced in PTX ISA version 1.0.

Target ISA Notes

`selp.f64` requires `sm_13` or higher.

Examples

```
    selp.s32  r0,r,g,p;

@q  selp.f32  f0,t,x,xp;
```

#### 9.7.6.4. [Comparison and Selection Instructions: `slct`](#comparison-and-selection-instructions-slct)[](#comparison-and-selection-instructions-slct "Permalink to this headline")

`slct`

Select one source operand, based on the sign of the third operand.

Syntax

```
slct.dtype.s32        d, a, b, c;

slct{.ftz}.dtype.f32  d, a, b, c;



.dtype = { .b16, .b32, .b64,

           .u16, .u32, .u64,

           .s16, .s32, .s64,

                 .f32, .f64 };
```

Description

Conditional selection. If `c` >= 0, `a` is stored in `d`, otherwise `b` is stored in
`d`. Operands `d`, `a`, and `b` are treated as a bitsize type of the same width as the first
instruction type; operand `c` must match the second instruction type (`.s32` or `.f32`). The
selected input is copied to the output without modification.

Semantics

```
d = (c >= 0) ? a : b;
```

Floating Point Notes

For `.f32` comparisons, negative zero equals zero.

Subnormal numbers:

`sm_20+`
:   By default, subnormal numbers are supported.

    `slct.ftz.dtype.f32` flushes subnormal values of operand `c` to sign-preserving zero, and
    operand `a` is selected.

`sm_1x`
:   `slct.dtype.f32` flushes subnormal values of operand `c` to sign-preserving zero, and operand
    `a` is selected.

Modifier `.ftz` applies only to `.f32` comparisons.

If operand `c` is `NaN`, the comparison is unordered and operand `b` is selected.

PTX ISA Notes

Introduced in PTX ISA version 1.0.

Target ISA Notes

`slct.f64` requires `sm_13` or higher.

Examples

```
slct.u32.s32  x, y, z, val;

slct.ftz.u64.f32  A, B, C, fval;
```